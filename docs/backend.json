{
  "entities": {
    "Event": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Event",
      "type": "object",
      "description": "Represents the fixed details and configuration for the Sábado Total MCA event.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Event entity."
        },
        "name": {
          "type": "string",
          "description": "The official name of the Sábado Total MCA event."
        },
        "date": {
          "type": "string",
          "description": "The specific date when the event will take place.",
          "format": "date"
        },
        "time": {
          "type": "string",
          "description": "The start time of the event."
        },
        "location": {
          "type": "string",
          "description": "The physical address or description of where the event will be held."
        },
        "cost": {
          "type": "number",
          "description": "The monetary value or registration fee for the event."
        },
        "minimumAge": {
          "type": "number",
          "description": "The minimum age (inclusive) for children eligible to attend the event."
        },
        "maximumAge": {
          "type": "number",
          "description": "The maximum age (inclusive) for children eligible to attend the event."
        },
        "supervisionNotice": {
          "type": "string",
          "description": "Important safety and supervision instructions, especially for young children."
        }
      },
      "required": [
        "id",
        "name",
        "date",
        "time",
        "location",
        "cost",
        "minimumAge",
        "maximumAge",
        "supervisionNotice"
      ]
    },
    "Registration": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "Registration",
      "type": "object",
      "description": "Stores all details pertaining to a child's registration for the Sábado Total MCA event, including guardian and health information.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Registration entity."
        },
        "childName": {
          "type": "string",
          "description": "The full legal name of the child being registered for the event."
        },
        "birthDate": {
          "type": "string",
          "description": "The child's date of birth, used for age verification (2-17 years).",
          "format": "date"
        },
        "ageGroup": {
          "type": "string",
          "description": "The age group or class selected for the child (e.g., Maternal, Jardim)."
        },
        "guardianName": {
          "type": "string",
          "description": "The full legal name of the responsible adult or guardian registering the child."
        },
        "guardianWhatsapp": {
          "type": "string",
          "description": "The WhatsApp phone number of the guardian for urgent communications and event updates."
        },
        "hasDietaryRestriction": {
          "type": "string",
          "description": "A flag indicating whether the child has any specific dietary restrictions (sim/nao)."
        },
        "dietaryRestrictionDetails": {
          "type": "string",
          "description": "Detailed description of the child's specific dietary restrictions, if 'hasDietaryRestriction' is 'sim'."
        },
        "submissionDate": {
          "type": "string",
          "description": "The date and time when the registration form was successfully submitted.",
          "format": "date-time"
        },
        "status": {
          "type": "string",
          "description": "The current processing status of the registration (e.g., 'pendente', 'confirmado', 'cancelado')."
        },
        "paymentStatus": {
          "type": "string",
          "description": "The payment status of the registration.",
          "enum": [
            "pending_payment",
            "paid",
            "waived"
          ]
        }
      },
      "required": [
        "childName",
        "birthDate",
        "ageGroup",
        "guardianName",
        "guardianWhatsapp",
        "hasDietaryRestriction",
        "submissionDate",
        "status",
        "paymentStatus"
      ]
    }
  },
  "auth": {
    "providers": [
      "password"
    ]
  },
  "firestore": {
    "collections": {
      "events": {
        "schema": {
          "$ref": "#/entities/Event"
        },
        "description": "Stores fixed details and configuration for specific events (e.g., 'sabadototalmca'). This collection is publicly readable by all users. Administrative users have privileges to create and update these documents."
      },
      "registrations": {
        "schema": {
          "$ref": "#/entities/Registration"
        },
        "description": "Stores child and guardian registration details submitted via the public form. This collection is writable by anyone but only readable by authenticated administrators."
      }
    }
  }
}